<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy StudyVerse</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --galaxy-purple: #8a2be2;
            --galaxy-dark: #0f0f23;
            --galaxy-blue: #1a1a3a;
            --star-yellow: #ffd700;
            --planet-green: #32cd32;
            --flower-pink: #ff69b4;
            --break-red: #ff4444;
            --text-light: #f0f0f0;
            --panel-bg: rgba(26, 26, 58, 0.9);
            --shadow-glow: 0 0 15px rgba(138, 43, 226, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--galaxy-dark);
            color: var(--text-light);
            min-height: 100vh;
        }

        /* Stars Background */
        #stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Navbar */
        .navbar {
            background: linear-gradient(to right, var(--galaxy-blue), var(--galaxy-purple));
            padding: 15px 0;
            border-bottom: 2px solid var(--star-yellow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo i {
            color: var(--star-yellow);
            font-size: 2rem;
        }

        .logo-text {
            background: linear-gradient(to right, var(--star-yellow), var(--flower-pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--galaxy-purple);
            border-radius: 20px;
            color: var(--text-light);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .nav-btn:hover {
            background: rgba(138, 43, 226, 0.3);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: rgba(138, 43, 226, 0.5);
            border-color: var(--star-yellow);
            color: var(--star-yellow);
        }

        .user-stats {
            display: flex;
            gap: 15px;
        }

        .stat-box {
            background: var(--panel-bg);
            padding: 8px 15px;
            border-radius: 15px;
            border: 1px solid var(--galaxy-purple);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-box i {
            color: var(--star-yellow);
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Home Section */
        .hero-section {
            text-align: center;
            padding: 60px 20px;
            margin: 30px 0;
        }

        .hero-title {
            font-size: 3.5rem;
            color: var(--star-yellow);
            margin-bottom: 20px;
            background: linear-gradient(to right, var(--star-yellow), var(--flower-pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: #aaa;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .action-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }

        .action-card {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid var(--galaxy-purple);
            transition: all 0.3s;
            cursor: pointer;
        }

        .action-card:hover {
            transform: translateY(-10px);
            border-color: var(--star-yellow);
            box-shadow: var(--shadow-glow);
        }

        .action-card i {
            font-size: 3rem;
            color: var(--star-yellow);
            margin-bottom: 20px;
        }

        .action-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--text-light);
        }

        .action-card p {
            color: #aaa;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .action-button {
            background: linear-gradient(to right, var(--galaxy-purple), #6a0dad);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .action-button:hover {
            background: linear-gradient(to right, #6a0dad, var(--galaxy-purple));
            transform: translateY(-3px);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: var(--panel-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 2px solid var(--galaxy-purple);
        }

        .stat-card i {
            font-size: 2.5rem;
            color: var(--star-yellow);
            margin-bottom: 15px;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .stat-label {
            color: #aaa;
            font-size: 1rem;
        }

        /* Daily Check-in Section */
        .daily-checkin-section {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid var(--star-yellow);
            margin: 40px 0;
            text-align: center;
        }

        .daily-checkin-section h2 {
            color: var(--star-yellow);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .checkin-btn {
            background: linear-gradient(to right, var(--planet-green), #2e8b57);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            transition: all 0.3s;
        }

        .checkin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(50, 205, 50, 0.3);
        }

        .checkin-btn:disabled {
            background: linear-gradient(to right, #666, #444);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Focus Section */
        .focus-header {
            text-align: center;
            margin: 30px 0;
        }

        .focus-header h1 {
            font-size: 2.5rem;
            color: var(--star-yellow);
            margin-bottom: 10px;
        }

        .focus-header p {
            color: #aaa;
            font-size: 1.1rem;
        }

        .focus-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        @media (max-width: 1024px) {
            .focus-content {
                grid-template-columns: 1fr;
            }
        }

        /* YouTube Section */
        .youtube-section {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid var(--galaxy-purple);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--star-yellow);
            font-size: 1.5rem;
        }

        .video-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .video-input {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--galaxy-purple);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
        }

        .load-video-btn {
            background: linear-gradient(to right, var(--galaxy-purple), #6a0dad);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .load-video-btn:hover {
            background: linear-gradient(to right, #6a0dad, var(--galaxy-purple));
        }

        .video-container {
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            position: relative;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid var(--galaxy-purple);
            display: none;
        }

        .video-container.active {
            display: block;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Timer Section */
        .timer-section {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid var(--planet-green);
        }

        .timer-display {
            text-align: center;
            margin: 20px 0 30px;
        }

        .timer-time {
            font-size: 4rem;
            font-weight: bold;
            color: var(--star-yellow);
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .timer-label {
            color: #aaa;
            font-size: 1.2rem;
            margin: 10px 0 20px;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .timer-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .start-btn {
            background: linear-gradient(to right, var(--planet-green), #2e8b57);
            color: white;
        }

        .start-btn:hover {
            background: linear-gradient(to right, #2e8b57, var(--planet-green));
            box-shadow: 0 0 15px rgba(50, 205, 50, 0.7);
        }

        .pause-btn {
            background: linear-gradient(to right, #ffa500, #ff8c00);
            color: white;
        }

        .pause-btn:hover {
            background: linear-gradient(to right, #ff8c00, #ffa500);
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.7);
        }

        .reset-btn {
            background: linear-gradient(to right, var(--break-red), #cc0000);
            color: white;
        }

        .reset-btn:hover {
            background: linear-gradient(to right, #cc0000, var(--break-red));
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.7);
        }

        .timer-presets {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .preset-btn {
            padding: 10px 20px;
            background: rgba(138, 43, 226, 0.2);
            border: 1px solid var(--galaxy-purple);
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .preset-btn.active {
            background: var(--galaxy-purple);
            color: var(--star-yellow);
        }

        /* Selected Flower Section */
        .selected-flower-section {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid var(--flower-pink);
            margin-top: 30px;
        }

        .flower-display {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .flower-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid var(--flower-pink);
            object-fit: cover;
        }

        .flower-info h3 {
            color: var(--flower-pink);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .flower-info p {
            color: #aaa;
            margin-bottom: 5px;
        }

        .no-flower {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .no-flower i {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .select-flower-btn {
            background: linear-gradient(to right, var(--flower-pink), #c71585);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 15px;
            text-decoration: none;
        }

        .select-flower-btn:hover {
            background: linear-gradient(to right, #c71585, var(--flower-pink));
        }

        /* Garden Section */
        .garden-header {
            text-align: center;
            margin: 30px 0;
        }

        .garden-header h1 {
            font-size: 2.5rem;
            color: var(--star-yellow);
            margin-bottom: 10px;
        }

        .planet-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .planet-tab {
            padding: 12px 25px;
            background: var(--panel-bg);
            border: 2px solid var(--galaxy-purple);
            border-radius: 10px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
        }

        .planet-tab.active {
            background: rgba(138, 43, 226, 0.3);
            border-color: var(--star-yellow);
            color: var(--star-yellow);
        }

        .garden-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .flower-slot {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid var(--galaxy-purple);
            transition: all 0.3s;
            text-align: center;
        }

        .flower-slot.empty {
            border-style: dashed;
            opacity: 0.7;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .flower-slot.planted {
            border-color: var(--planet-green);
        }

        .flower-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .flower-name {
            color: var(--flower-pink);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .growth-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }

        .growth-progress {
            height: 100%;
            background: linear-gradient(to right, var(--planet-green), var(--star-yellow));
            border-radius: 5px;
            transition: width 0.3s;
        }

        .flower-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .flower-stat {
            padding: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .flower-stat i {
            color: var(--star-yellow);
        }

        .select-btn {
            background: linear-gradient(to right, var(--galaxy-purple), var(--flower-pink));
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .select-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
        }

        .select-btn.selected {
            background: linear-gradient(to right, var(--star-yellow), #ffa500);
            color: var(--galaxy-dark);
        }

        /* External Links Page */
        .external-page {
            background: var(--panel-bg);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 2px solid var(--galaxy-purple);
            text-align: center;
        }

        .external-page i {
            font-size: 5rem;
            color: var(--star-yellow);
            margin-bottom: 20px;
        }

        .external-page h1 {
            font-size: 2.5rem;
            color: var(--star-yellow);
            margin-bottom: 15px;
        }

        .external-page p {
            color: #aaa;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .redirect-btn {
            background: linear-gradient(to right, var(--galaxy-purple), #6a0dad);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .redirect-btn:hover {
            background: linear-gradient(to right, #6a0dad, var(--galaxy-purple));
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(138, 43, 226, 0.3);
        }

        .back-btn {
            background: linear-gradient(to right, #666, #444);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin: 15px;
        }

        .back-btn:hover {
            background: linear-gradient(to right, #555, #333);
            transform: translateY(-2px);
        }

        .redirect-message {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--star-yellow);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            color: #aaa;
        }

        /* Messages */
        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            z-index: 2000;
            animation: slideIn 0.5s, fadeOut 0.5s 2.5s;
            animation-fill-mode: forwards;
        }

        .message.success {
            background: rgba(50, 205, 50, 0.9);
            border-left: 5px solid var(--planet-green);
        }

        .message.error {
            background: rgba(255, 68, 68, 0.9);
            border-left: 5px solid var(--break-red);
        }

        .message.warning {
            background: rgba(255, 165, 0, 0.9);
            border-left: 5px solid orange;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .user-stats {
                width: 100%;
                justify-content: center;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .action-cards {
                grid-template-columns: 1fr;
            }
            
            .timer-time {
                font-size: 3rem;
            }
            
            .garden-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-btn {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Stars Background -->
    <div id="stars-container"></div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">
                <i class="fas fa-globe-americas"></i>
                <span class="logo-text">Galaxy StudyVerse</span>
            </div>
            
            <div class="nav-buttons">
                <a href="#home-section" class="nav-btn active" data-section="home">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#focus-section" class="nav-btn" data-section="focus">
                    <i class="fas fa-play-circle"></i> Focus
                </a>
                <a href="#garden-section" class="nav-btn" data-section="garden">
                    <i class="fas fa-seedling"></i> Garden
                </a>
                <a href="#store-section" class="nav-btn" data-section="store">
                    <i class="fas fa-store"></i> Store
                </a>
                <a href="#profile-section" class="nav-btn" data-section="profile">
                    <i class="fas fa-user-astronaut"></i> Profile
                </a>
                <a href="#calendar-section" class="nav-btn" data-section="calendar">
                    <i class="fas fa-calendar-alt"></i> Calendar
                </a>
                <a href="#schedules-section" class="nav-btn" data-section="schedules">
                    <i class="fas fa-table"></i> Schedules
                </a>
            </div>
            
            <div class="user-stats">
                <div class="stat-box">
                    <i class="fas fa-gem"></i>
                    <span id="coins-display">250</span>
                </div>
                <div class="stat-box">
                    <i class="fas fa-star"></i>
                    <span id="points-display">500</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Home Section -->
        <section id="home-section" class="content-section active">
            <div class="hero-section">
                <h1 class="hero-title">Welcome to Galaxy StudyVerse</h1>
                <p class="hero-subtitle">Study smart, grow cosmic flowers, and explore the universe while achieving your academic goals!</p>
                <a href="#focus-section" class="action-button" style="max-width: 300px; margin: 0 auto;" onclick="switchSection('focus')">
                    <i class="fas fa-rocket"></i> Launch Focus Session
                </a>
            </div>

            <div class="action-cards">
                <div class="action-card" onclick="switchSection('focus')">
                    <i class="fas fa-hourglass-half"></i>
                    <h3>Focus Session</h3>
                    <p>Study with YouTube videos, focus timer, and grow your selected flower. Earn points and coins for every completed session.</p>
                    <a href="#focus-section" class="action-button" onclick="switchSection('focus')">
                        <i class="fas fa-play"></i> Start Focusing
                    </a>
                </div>
                
                <div class="action-card" onclick="switchSection('garden')">
                    <i class="fas fa-seedling"></i>
                    <h3>Cosmic Garden</h3>
                    <p>View and manage your cosmic flowers. Select flowers to grow during focus sessions. Each fully grown flower gives bonus rewards!</p>
                    <a href="#garden-section" class="action-button" onclick="switchSection('garden')">
                        <i class="fas fa-external-link-alt"></i> Visit Garden
                    </a>
                </div>
                
                <div class="action-card" onclick="switchSection('store')">
                    <i class="fas fa-store"></i>
                    <h3>Galaxy Store</h3>
                    <p>Buy new planets and exotic space flowers. Expand your cosmic garden with rare species from different planets across the galaxy.</p>
                    <a href="#store-section" class="action-button" onclick="switchSection('store')">
                        <i class="fas fa-shopping-cart"></i> Visit Store
                    </a>
                </div>
            </div>

            <!-- Daily Check-in Section -->
            <div class="daily-checkin-section">
                <h2><i class="fas fa-calendar-check"></i> Daily Check-in</h2>
                <div id="checkin-status">
                    <div style="color: var(--star-yellow);">
                        <i class="fas fa-star"></i> <strong>Daily Check-in Available</strong>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem;">
                        Check in daily to earn bonus points and coins!
                    </div>
                </div>
                <button onclick="dailyCheckin()" id="checkin-btn" class="checkin-btn">
                    <i class="fas fa-check-circle"></i> Check-in Today
                </button>
                <div id="checkin-rewards" style="color: #aaa; font-size: 0.9rem;">
                    Get <strong style="color: var(--star-yellow);">+50 points</strong> for daily check-in!
                </div>
            </div>

            <!-- Selected Flower Display -->
            <div class="selected-flower-section" id="home-flower-section" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-seedling"></i>
                    <h2>Selected Flower for Focus</h2>
                </div>
                <div class="flower-display">
                    <img id="home-flower-image" src="" alt="Selected Flower" class="flower-image">
                    <div class="flower-info">
                        <h3 id="home-flower-name">Flower Name</h3>
                        <p><i class="fas fa-globe"></i> Planet: <span id="home-flower-planet">Earth</span></p>
                        <p><i class="fas fa-chart-line"></i> Growth: <span id="home-flower-growth">0%</span></p>
                        <p><i class="fas fa-gem"></i> Points Reward: <span id="home-flower-reward">20</span></p>
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <div class="stat-value" id="home-today-time">15m</div>
                    <div class="stat-label">Today's Study Time</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-fire"></i>
                    <div class="stat-value" id="home-streak">1</div>
                    <div class="stat-label">Day Streak</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-seedling"></i>
                    <div class="stat-value" id="home-flowers">1</div>
                    <div class="stat-label">Flowers Grown</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-medal"></i>
                    <div class="stat-value" id="home-level">3</div>
                    <div class="stat-label">Galaxy Level</div>
                </div>
            </div>
        </section>

        <!-- Focus Section -->
        <section id="focus-section" class="content-section">
            <div class="focus-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1><i class="fas fa-hourglass-half"></i> Focus Session</h1>
                        <p>Study with YouTube videos and grow your selected flower</p>
                    </div>
                    <button onclick="switchSection('home')" class="back-btn">
                        <i class="fas fa-arrow-left"></i> Back to Main
                    </button>
                </div>
            </div>

            <div class="focus-content">
                <!-- YouTube Section -->
                <div class="youtube-section">
                    <h2 class="section-title">
                        <i class="fas fa-video"></i>
                        YouTube Study Video
                    </h2>
                    
                    <div class="video-input-container">
                        <input type="text" 
                               class="video-input" 
                               id="youtube-url" 
                               placeholder="Enter YouTube URL"
                               value="https://www.youtube.com/watch?v=jfKfPfyJRdk">
                        <button class="load-video-btn" onclick="loadYouTubeVideo()">
                            <i class="fas fa-play"></i>
                            Load Video
                        </button>
                    </div>
                    
                    <div class="video-container" id="video-container">
                        <iframe id="youtube-player" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>

                <!-- Timer Section -->
                <div class="timer-section">
                    <h2 class="section-title">
                        <i class="fas fa-hourglass-half"></i>
                        Focus Timer
                    </h2>
                    
                    <div class="timer-display">
                        <div class="timer-time" id="timer-display">05:00</div>
                        <div class="timer-label" id="timer-status">Ready to focus!</div>
                    </div>
                    
                    <div class="timer-controls">
                        <button class="timer-btn start-btn" id="start-timer" onclick="startTimer()">
                            <i class="fas fa-play"></i>
                            Start
                        </button>
                        <button class="timer-btn pause-btn" id="pause-timer" onclick="pauseTimer()" disabled>
                            <i class="fas fa-pause"></i>
                            Pause
                        </button>
                        <button class="timer-btn reset-btn" id="reset-timer" onclick="resetTimer()" disabled>
                            <i class="fas fa-redo"></i>
                            Reset
                        </button>
                    </div>
                    
                    <div class="timer-presets">
                        <button class="preset-btn active" onclick="setTimer(5)">5 min</button>
                        <button class="preset-btn" onclick="setTimer(10)">10 min</button>
                        <button class="preset-btn" onclick="setTimer(15)">15 min</button>
                        <button class="preset-btn" onclick="setTimer(25)">25 min</button>
                    </div>
                </div>
            </div>

            <!-- Selected Flower Display -->
            <div class="selected-flower-section" id="focus-flower-section">
                <div class="section-title">
                    <i class="fas fa-seedling"></i>
                    <h2>Selected Flower</h2>
                </div>
                <div id="flower-display-container">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Garden Section -->
        <section id="garden-section" class="content-section">
            <div class="garden-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1><i class="fas fa-seedling"></i> Cosmic Garden</h1>
                        <p>Select a flower to grow during focus sessions</p>
                    </div>
                    <button onclick="switchSection('home')" class="back-btn">
                        <i class="fas fa-arrow-left"></i> Back to Main
                    </button>
                </div>
            </div>

            <div class="planet-tabs" id="planet-tabs">
                <!-- Will be populated by JavaScript -->
            </div>

            <div class="garden-grid" id="garden-grid">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>

        <!-- Store Section -->
        <section id="store-section" class="content-section">
            <div class="external-page">
                <i class="fas fa-store"></i>
                <h1>Galaxy Store</h1>
                <p>Visit our full store to buy planets, flowers, and other cosmic items to enhance your Galaxy StudyVerse experience.</p>
                <a href="store.html" class="redirect-btn" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Go to Store
                </a>
                <br>
                <button onclick="switchSection('home')" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
                <div class="redirect-message">
                    <p><i class="fas fa-info-circle"></i> You will be redirected to the store page in a new tab</p>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="content-section">
            <div class="external-page">
                <i class="fas fa-user-astronaut"></i>
                <h1>Profile & Login</h1>
                <p>Manage your profile, view your achievements, and access your account settings.</p>
                <a href="login.html" class="redirect-btn" target="_blank">
                    <i class="fas fa-sign-in-alt"></i> Go to Profile/Login
                </a>
                <br>
                <button onclick="switchSection('home')" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
                <div class="redirect-message">
                    <p><i class="fas fa-info-circle"></i> You will be redirected to the login/profile page</p>
                </div>
            </div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar-section" class="content-section">
            <div class="external-page">
                <i class="fas fa-calendar-alt"></i>
                <h1>Calendar</h1>
                <p>View and manage your study schedule, deadlines, and important events in your academic calendar.</p>
                <a href="schedule.html" class="redirect-btn" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Go to Calendar
                </a>
                <br>
                <button onclick="switchSection('home')" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
                <div class="redirect-message">
                    <p><i class="fas fa-info-circle"></i> You will be redirected to the calendar page</p>
                </div>
            </div>
        </section>

        <!-- Schedules Section -->
        <section id="schedules-section" class="content-section">
            <div class="external-page">
                <i class="fas fa-table"></i>
                <h1>Schedules & Tables</h1>
                <p>Access your detailed schedules, timetables, and study plans to stay organized and productive.</p>
                <a href="s.html" class="redirect-btn" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Go to Schedules
                </a>
                <br>
                <button onclick="switchSection('home')" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
                <div class="redirect-message">
                    <p><i class="fas fa-info-circle"></i> You will be redirected to the schedules page</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Message Container -->
    <div id="message-container"></div>

    <script>
        // Main Data Storage
        const appData = {
            user: {
                coins: 250,
                points: 500,
                todayMinutes: 15,
                streak: 1,
                level: 3,
                flowersGrown: 1,
                ownedPlanets: ["Earth", "Mars"],
                ownedFlowers: ["Terra Bloom", "Solar Bloom"],
                selectedFlower: null,
                dailyChecked: false,
                lastCheckinDate: null
            },
            
            garden: {
                currentPlanet: "Earth",
                planets: {
                    "Earth": [
                        { flower: "Terra Bloom", growth: 0.8, waterNeeded: 2, image: "https://i.postimg.cc/vDPbbkw0/flower4.jpg" },
                        { flower: "Solar Bloom", growth: 0.4, waterNeeded: 4, image: "https://i.postimg.cc/873MfZQS/flower2.jpg" },
                        null, null, null, null
                    ],
                    "Mars": [
                        null, null, null, null, null, null
                    ]
                }
            },
            
            focus: {
                timerRunning: false,
                timerTime: 5 * 60,
                timerInterval: null,
                youtubeUrl: null
            }
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            loadFromLocalStorage();
            initializeNavigation();
            updateUI();
            renderGarden();
            updateSelectedFlowerDisplay();
            updateCheckinStatus();
            loadYouTubeVideo();
            fixFlowerIssue();
            
            // Handle hash navigation
            handleHashNavigation();
        });

        // Handle hash navigation
        function handleHashNavigation() {
            const hash = window.location.hash.substring(1);
            if (hash && document.getElementById(hash + '-section')) {
                switchSection(hash);
            }
        }

        // Create background stars
        function createStars() {
            const container = document.getElementById('stars-container');
            for (let i = 0; i < 80; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(star);
            }
        }

        // Local Storage Functions
        function loadFromLocalStorage() {
            const savedData = localStorage.getItem('galaxyStudyVerse');
            if (savedData) {
                const data = JSON.parse(savedData);
                Object.assign(appData.user, data.user || {});
                Object.assign(appData.garden, data.garden || {});
                appData.user.selectedFlower = data.selectedFlower || null;
                appData.focus.timerTime = data.timerTime || 5 * 60;
            }
        }

        function saveToLocalStorage() {
            const data = {
                user: appData.user,
                garden: appData.garden,
                selectedFlower: appData.user.selectedFlower,
                timerTime: appData.focus.timerTime
            };
            localStorage.setItem('galaxyStudyVerse', JSON.stringify(data));
        }

        // Navigation Functions
        function initializeNavigation() {
            // Nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                    
                    this.classList.add('active');
                    const section = this.getAttribute('href').substring(1);
                    document.getElementById(section).classList.add('active');
                    
                    // Update URL hash
                    window.location.hash = section.replace('-section', '');
                });
            });
        }

        function switchSection(section) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            
            const navBtn = document.querySelector(`[href="#${section}-section"]`);
            if (navBtn) navBtn.classList.add('active');
            document.getElementById(`${section}-section`).classList.add('active');
            
            // Update URL hash
            window.location.hash = section;
        }

        // Update UI
        function updateUI() {
            // Update stats
            document.getElementById('coins-display').textContent = appData.user.coins;
            document.getElementById('points-display').textContent = appData.user.points;
            document.getElementById('home-today-time').textContent = `${appData.user.todayMinutes}m`;
            document.getElementById('home-streak').textContent = appData.user.streak;
            document.getElementById('home-flowers').textContent = appData.user.flowersGrown;
            document.getElementById('home-level').textContent = appData.user.level;
            
            // Update selected flower display
            updateSelectedFlowerDisplay();
        }

        // Daily Check-in Functions
        function dailyCheckin() {
            const today = new Date().toDateString();
            const lastCheckin = appData.user.lastCheckinDate;
            
            if (lastCheckin === today) {
                showMessage("You've already checked in today! Come back tomorrow.", "warning");
                return;
            }
            
            // Give rewards
            appData.user.points += 50;
            appData.user.coins += 10;
            appData.user.dailyChecked = true;
            appData.user.lastCheckinDate = today;
            
            // Update UI
            updateUI();
            saveToLocalStorage();
            updateCheckinStatus();
            
            showMessage("Daily check-in successful! +50 points, +10 coins", "success");
        }

        function updateCheckinStatus() {
            const checkinStatus = document.getElementById('checkin-status');
            const checkinBtn = document.getElementById('checkin-btn');
            const today = new Date().toDateString();
            
            if (appData.user.lastCheckinDate === today) {
                checkinStatus.innerHTML = `
                    <div style="color: var(--planet-green);">
                        <i class="fas fa-check-circle"></i> <strong>Already checked in today</strong>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem;">
                        Come back tomorrow for more rewards!
                    </div>
                `;
                checkinBtn.innerHTML = '<i class="fas fa-check-circle"></i> Checked In Today!';
                checkinBtn.style.background = 'linear-gradient(to right, #666, #444)';
                checkinBtn.disabled = true;
            } else {
                checkinStatus.innerHTML = `
                    <div style="color: var(--star-yellow);">
                        <i class="fas fa-star"></i> <strong>Daily Check-in Available</strong>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem;">
                        Check in daily to earn bonus points and coins!
                    </div>
                `;
                checkinBtn.innerHTML = '<i class="fas fa-check-circle"></i> Check-in Today';
                checkinBtn.style.background = 'linear-gradient(to right, var(--planet-green), #2e8b57)';
                checkinBtn.disabled = false;
            }
        }

        // Selected Flower Functions
        function updateSelectedFlowerDisplay() {
            const selectedFlower = appData.user.selectedFlower;
            const homeSection = document.getElementById('home-flower-section');
            const focusContainer = document.getElementById('flower-display-container');
            
            if (selectedFlower) {
                // Show in home section
                homeSection.style.display = 'block';
                
                // Find flower data
                let flowerData = null;
                let planetName = null;
                
                for (const planet in appData.garden.planets) {
                    const slot = appData.garden.planets[planet].find(f => f && f.flower === selectedFlower);
                    if (slot) {
                        flowerData = slot;
                        planetName = planet;
                        break;
                    }
                }
                
                if (flowerData) {
                    // Update home display
                    document.getElementById('home-flower-image').src = flowerData.image;
                    document.getElementById('home-flower-name').textContent = selectedFlower;
                    document.getElementById('home-flower-planet').textContent = planetName;
                    document.getElementById('home-flower-growth').textContent = `${Math.round(flowerData.growth * 100)}%`;
                    document.getElementById('home-flower-reward').textContent = calculateFlowerReward(selectedFlower);
                    
                    // Update focus display
                    focusContainer.innerHTML = `
                        <div class="flower-display">
                            <img src="${flowerData.image}" alt="${selectedFlower}" class="flower-image">
                            <div class="flower-info">
                                <h3>${selectedFlower}</h3>
                                <p><i class="fas fa-globe"></i> Planet: ${planetName}</p>
                                <p><i class="fas fa-chart-line"></i> Growth: ${Math.round(flowerData.growth * 100)}%</p>
                                <p><i class="fas fa-gem"></i> Points Reward: ${calculateFlowerReward(selectedFlower)}</p>
                                <p style="color: var(--planet-green); margin-top: 10px;">
                                    <i class="fas fa-info-circle"></i> This flower will grow during your focus session!
                                </p>
                            </div>
                        </div>
                    `;
                }
            } else {
                // No selected flower
                homeSection.style.display = 'none';
                focusContainer.innerHTML = `
                    <div class="no-flower">
                        <i class="fas fa-seedling"></i>
                        <h3>No Flower Selected</h3>
                        <p>Select a flower from your garden to grow it during focus sessions!</p>
                        <a href="#garden-section" class="select-flower-btn" onclick="switchSection('garden')">
                            <i class="fas fa-external-link-alt"></i>
                            Go to Garden
                        </a>
                    </div>
                `;
            }
        }

        function selectFlower(flowerName) {
            appData.user.selectedFlower = flowerName;
            saveToLocalStorage();
            updateSelectedFlowerDisplay();
            showMessage(`Selected ${flowerName} for focus sessions!`, 'success');
            
            // Update garden display
            renderGarden();
        }

        function calculateFlowerReward(flowerName) {
            const rewards = {
                "Terra Bloom": 10,
                "Solar Bloom": 15,
                "Gaia Lily": 20,
                "Heart Bloom": 8
            };
            return rewards[flowerName] || 10;
        }

        // Garden Functions
        function renderGarden() {
            renderPlanetTabs();
            renderCurrentPlanetGarden();
        }

        function renderPlanetTabs() {
            const tabsContainer = document.getElementById('planet-tabs');
            tabsContainer.innerHTML = '';
            
            appData.user.ownedPlanets.forEach(planet => {
                const tab = document.createElement('button');
                tab.className = `planet-tab ${planet === appData.garden.currentPlanet ? 'active' : ''}`;
                tab.innerHTML = `<i class="fas fa-globe"></i> ${planet}`;
                tab.onclick = () => switchPlanet(planet);
                tabsContainer.appendChild(tab);
            });
        }

        function switchPlanet(planetName) {
            appData.garden.currentPlanet = planetName;
            renderGarden();
        }

        function renderCurrentPlanetGarden() {
            const grid = document.getElementById('garden-grid');
            const planet = appData.garden.planets[appData.garden.currentPlanet];
            
            if (!planet) {
                grid.innerHTML = '<div class="flower-slot empty">No garden data for this planet</div>';
                return;
            }
            
            grid.innerHTML = '';
            
            planet.forEach((slot, index) => {
                const slotElement = document.createElement('div');
                
                if (slot) {
                    // Flower slot
                    slotElement.className = 'flower-slot planted';
                    slotElement.innerHTML = `
                        <div class="flower-icon">${getFlowerIcon(slot.flower)}</div>
                        <div class="flower-name">${slot.flower}</div>
                        
                        <div style="width: 100%; margin: 15px 0;">
                            <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: #aaa;">
                                <span>Growth</span>
                                <span>${Math.round(slot.growth * 100)}%</span>
                            </div>
                            <div class="growth-bar">
                                <div class="growth-progress" style="width: ${slot.growth * 100}%"></div>
                            </div>
                        </div>
                        
                        <div class="flower-stats">
                            <div class="flower-stat">
                                <i class="fas fa-tint"></i>
                                <div>${slot.waterNeeded}</div>
                                <div style="font-size: 0.8rem;">Waters</div>
                            </div>
                            <div class="flower-stat">
                                <i class="fas fa-gem"></i>
                                <div>${calculateFlowerReward(slot.flower)}</div>
                                <div style="font-size: 0.8rem;">Points</div>
                            </div>
                        </div>
                        
                        <button class="select-btn ${appData.user.selectedFlower === slot.flower ? 'selected' : ''}" 
                                onclick="selectFlower('${slot.flower}')">
                            <i class="fas fa-star"></i>
                            ${appData.user.selectedFlower === slot.flower ? 'Selected' : 'Select for Focus'}
                        </button>
                    `;
                } else {
                    // Empty slot
                    slotElement.className = 'flower-slot empty';
                    slotElement.innerHTML = `
                        <div style="font-size: 3rem; color: #666; margin-bottom: 15px;">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <div style="color: #666;">Empty Slot</div>
                        <div style="color: #888; font-size: 0.9rem; margin-top: 10px;">
                            Buy flowers from the store!
                        </div>
                    `;
                }
                
                grid.appendChild(slotElement);
            });
        }

        function getFlowerIcon(flowerName) {
            const icons = ['', '', '', '', '', ''];
            const index = flowerName.length % icons.length;
            return icons[index];
        }

        // Fix Flower Issue
        function fixFlowerIssue() {
            // Fix any flower data issues
            for (const planet in appData.garden.planets) {
                for (const flower of appData.garden.planets[planet]) {
                    if (flower) {
                        // Ensure growth is between 0 and 1
                        if (flower.growth > 1) flower.growth = 1;
                        if (flower.growth < 0) flower.growth = 0;
                        
                        // Ensure water needed is not negative
                        if (flower.waterNeeded < 0) flower.waterNeeded = 0;
                        
                        // Fix any NaN values
                        if (isNaN(flower.growth)) flower.growth = 0;
                        if (isNaN(flower.waterNeeded)) flower.waterNeeded = 0;
                    }
                }
            }
            saveToLocalStorage();
        }

        // Timer Functions
        function setTimer(minutes) {
            appData.focus.timerTime = minutes * 60;
            updateTimerDisplay();
            
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('timer-status').textContent = 
                minutes === 5 ? "Quick Focus Session" : `${minutes} minute session`;
        }

        function startTimer() {
            if (appData.focus.timerRunning) return;
            
            appData.focus.timerRunning = true;
            
            document.getElementById('start-timer').disabled = true;
            document.getElementById('pause-timer').disabled = false;
            document.getElementById('reset-timer').disabled = false;
            document.getElementById('timer-status').textContent = 'Focusing...';
            
            appData.focus.timerInterval = setInterval(() => {
                appData.focus.timerTime--;
                updateTimerDisplay();
                
                if (appData.focus.timerTime <= 0) {
                    finishTimer();
                }
            }, 1000);
            
            showMessage('Focus session started! Stay focused!', 'success');
        }

        function pauseTimer() {
            if (!appData.focus.timerRunning) return;
            
            appData.focus.timerRunning = false;
            clearInterval(appData.focus.timerInterval);
            
            document.getElementById('start-timer').disabled = false;
            document.getElementById('pause-timer').disabled = true;
            document.getElementById('timer-status').textContent = 'Paused';
            
            showMessage('Session paused', 'warning');
        }

        function resetTimer() {
            appData.focus.timerRunning = false;
            clearInterval(appData.focus.timerInterval);
            
            const activePreset = document.querySelector('.preset-btn.active');
            const minutes = activePreset ? parseInt(activePreset.textContent) : 5;
            appData.focus.timerTime = minutes * 60;
            
            updateTimerDisplay();
            document.getElementById('start-timer').disabled = false;
            document.getElementById('pause-timer').disabled = true;
            document.getElementById('reset-timer').disabled = true;
            document.getElementById('timer-status').textContent = 'Ready to focus!';
            
            showMessage('Timer reset', 'warning');
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(appData.focus.timerTime / 60);
            const seconds = appData.focus.timerTime % 60;
            document.getElementById('timer-display').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        async function finishTimer() {
            appData.focus.timerRunning = false;
            clearInterval(appData.focus.timerInterval);
            
            document.getElementById('start-timer').disabled = false;
            document.getElementById('pause-timer').disabled = true;
            document.getElementById('reset-timer').disabled = false;
            document.getElementById('timer-status').textContent = 'Session Complete!';
            
            // Calculate session duration
            const activePreset = document.querySelector('.preset-btn.active');
            const sessionMinutes = activePreset ? parseInt(activePreset.textContent) : 5;
            
            // Give rewards
            await giveSessionRewards(sessionMinutes);
            
            // Play sound
            playCompletionSound();
            
            // Reset timer
            appData.focus.timerTime = sessionMinutes * 60;
            updateTimerDisplay();
        }

        async function giveSessionRewards(sessionMinutes) {
            // Base rewards (reduced)
            let pointsEarned = 5;
            let coinsEarned = 1;
            let flowerBonus = false;
            
            // Bonus if flower is selected
            if (appData.user.selectedFlower) {
                pointsEarned += 3;
                coinsEarned += 1;
                flowerBonus = true;
                
                // Update flower growth
                await updateFlowerGrowth();
            }
            
            // Update user data
            appData.user.points += pointsEarned;
            appData.user.coins += coinsEarned;
            appData.user.todayMinutes += sessionMinutes;
            
            // Check for streak
            const lastSession = localStorage.getItem('lastSessionDate');
            const today = new Date().toDateString();
            if (lastSession !== today) {
                appData.user.streak++;
                localStorage.setItem('lastSessionDate', today);
            }
            
            // Save and update
            saveToLocalStorage();
            updateUI();
            renderGarden();
            
            // Show success message
            let message = `Great work! ${sessionMinutes}min session completed!\n`;
            message += `+${pointsEarned} points, +${coinsEarned} coins`;
            
            if (flowerBonus) {
                message += `\nFlower growth increased!`;
            }
            
            showMessage(message, 'success');
        }

        async function updateFlowerGrowth() {
            if (!appData.user.selectedFlower) return false;
            
            const selectedFlower = appData.user.selectedFlower;
            
            // Find and update flower in garden
            for (const planet in appData.garden.planets) {
                const flowerIndex = appData.garden.planets[planet].findIndex(f => 
                    f && f.flower === selectedFlower
                );
                
                if (flowerIndex !== -1) {
                    const flower = appData.garden.planets[planet][flowerIndex];
                    flower.growth = Math.min(1, flower.growth + 0.1); // Reduced growth rate
                    
                    if (flower.growth >= 1) {
                        flower.waterNeeded = 0;
                        appData.user.flowersGrown++;
                    } else {
                        flower.waterNeeded = Math.max(0, flower.waterNeeded - 1);
                    }
                    
                    // Fix any potential issues
                    fixFlowerIssue();
                    
                    // Update display
                    updateSelectedFlowerDisplay();
                    
                    return true;
                }
            }
            
            return false;
        }

        // YouTube Functions
        function loadYouTubeVideo() {
            const urlInput = document.getElementById('youtube-url').value.trim();
            if (!urlInput) {
                showMessage('Please enter a YouTube URL', 'warning');
                return;
            }
            
            let videoId = '';
            if (urlInput.includes('youtube.com/watch?v=')) {
                videoId = urlInput.split('v=')[1].split('&')[0];
            } else if (urlInput.includes('youtu.be/')) {
                videoId = urlInput.split('youtu.be/')[1].split('?')[0];
            } else {
                videoId = urlInput;
            }
            
            if (!videoId) {
                showMessage('Invalid YouTube URL', 'error');
                return;
            }
            
            const videoContainer = document.getElementById('video-container');
            videoContainer.classList.add('active');
            
            const iframe = document.getElementById('youtube-player');
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
            
            appData.focus.youtubeUrl = urlInput;
            showMessage('Video loaded successfully!', 'success');
        }

        // Utility Functions
        function playCompletionSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('Audio not supported');
            }
        }

        function showMessage(text, type) {
            const container = document.getElementById('message-container');
            const message = document.createElement('div');
            message.className = `message ${type}`;
            message.textContent = text;
            container.appendChild(message);
            
            setTimeout(() => {
                message.remove();
            }, 3000);
        }
    </script>
</body>
</html>
